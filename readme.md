# 毕业设计——jpeg算法优化
`origin目录` : 基础算法 

`optimize目录` : 优化算法

执行`origin目录`下的`encoder_decoder_test.bash`可以将`testImages`所有图片进行压缩

执行根目录下的size_compare.py可以看到压缩优化结果
```txt
第1张图片,  压缩比例:-0.192%
第2张图片,  压缩比例:-0.19%
第3张图片,  压缩比例:-0.19%
第4张图片,  压缩比例:-0.343%
第5张图片,  压缩比例:-0.18%
第6张图片,  压缩比例:0.499%
第7张图片,  压缩比例:-0.16%
第8张图片,  压缩比例:-0.259%
第9张图片,  压缩比例:-0.119%
第10张图片,  压缩比例:-0.217%
第11张图片,  压缩比例:-0.231%
第12张图片,  压缩比例:0.429%
第13张图片,  压缩比例:-0.238%
第14张图片,  压缩比例:-0.196%
第15张图片,  压缩比例:-0.142%
第16张图片,  压缩比例:-0.104%
第17张图片,  压缩比例:1.763%
第18张图片,  压缩比例:2.698%
第19张图片,  压缩比例:-0.215%
```



## 增加judge函数

对于Y分量，不需要进行空块判断

对于Cb、Cr分量，进行空块判断

Cb、Cr会有ac、dc两个系数，由于判断的是空块，也就是64个分量，因此无需单独建立buffer，Cb、Cr分量分别建立一个Buffer

```python
def judge_is_empty_block( block ):
  for i in range(block.shape[0]):
    for j in range (block.shape[1]):
      if(block[i][j] != 0):  
        return False
  return True
```

对于每一个块判断是否为空块




数据集里找图片
jpeg库(作为baseline)->计算MSE和PSNR值
串行->并行


optimize的执行时间
| **encoder** | **decoder**  |
|----------|----------|
| 0.3415 s | 0.3301 s |
| 0.3259 s | 0.3786 s |
| 0.4175 s | 0.3309 s |
| 0.3517 s | 0.2609 s |
| 0.3669 s | 0.4738 s |
| 0.2945 s | 0.2314 s |
| 0.3406 s | 0.3099 s |
| 0.5058 s | 0.2503 s |
| 0.6868 s | 0.4423 s |
| 0.3558 s | 0.2782 s |
| 0.4851 s | 0.3503 s |
| 0.3907 s | 0.3032 s |
| 0.6969 s | 0.3589 s |
| 0.4339 s | 0.3781 s |
| 0.4963 s | 0.3409 s |
| 1.7908 s | 2.3047 s |
| 0.5242 s | 0.4817 s |
| 0.3658 s | 0.4171 s |
| 2.0238 s | 1.7110 s |